.. _CT Structures:

==========================
CT Structures
==========================

.. toctree::
   :maxdepth: 1


* :ref:`CTiledObject<CTiledObject>`
* :ref:`CTime<CTime>`
* :ref:`CTimeSpan<CTimeSpan>`
* :ref:`CTimer<CTimer>`
* :ref:`CTimerWorld<CTimerWorld>`
* :ref:`CTlkFileOverride<CTlkFileOverride>`
* :ref:`CTlkTable<CTlkTable>`
* :ref:`CTypedPtrArray<CTypedPtrArray>`
* :ref:`CTypedPtrList<CTypedPtrList>`


.. _CTiledObject:

CTiledObject
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | long                                   | m_nWedIndex                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | :ref:`CResWED<CResWED>`\*              | m_pResWed                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 2        | unsigned short                         | m_wAIState                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0A       | 2        | unsigned short                         | m_wRenderState                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | __POSITION\*                           | m_posAreaList                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 8        | :ref:`CResRef<CResRef>`                | m_resId                       |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CTiledObject     struct
     m_nWedIndex    dd ?
     m_pResWed      dd ? ; CResWED* 
     m_wAIState     dw ?
     m_wRenderState dw ?
     m_posAreaList  dd ? ; __POSITION* 
     m_resId        CResRef <>
   CTiledObject     ends


----

.. _CTime:

CTime
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 8        | __int64                                | m_time                        |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CTime    struct
     m_time dq ?
   CTime    ends


----

.. _CTimeSpan:

CTimeSpan
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 8        | __int64                                | m_timeSpan                    |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CTimeSpan    struct
     m_timeSpan dq ?
   CTimeSpan    ends


----

.. _CTimer:

CTimer
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | :ref:`CObject<CObject>`                | m_cObject                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | int                                    | bEveryIteration               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | int                                    | bOnceOnly                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | int                                    | bTimerStarted                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | :ref:`CWarp<CWarp>`\*                  | pEngine                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | __POSITION\*                           | pos                           |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 4        | long                                   | nTimerInterval                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1C       | 4        | long                                   | nElaspedTime                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CTimer               struct
     m_cObject          CObject <>
     bEveryIteration    dd ?
     bOnceOnly          dd ?
     bTimerStarted      dd ?
     pEngine            dd ? ; CWarp* 
     pos                dd ? ; __POSITION* 
     nTimerInterval     dd ?
     nElaspedTime       dd ?
   CTimer               ends


----

.. _CTimerWorld:

CTimerWorld
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | unsigned long                          | m_gameTime                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 1        | unsigned char                          | m_active                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x05       | 1        | unsigned char                          | m_nLastPercentage             |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CTimerWorld          struct
     m_gameTime         dd ?
     m_active           db ?
     m_nLastPercentage  db ?
                        db ? ; padding
                        db ? ; padding
   CTimerWorld          ends


----

.. _CTlkFileOverride:

CTlkFileOverride
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | int                                    | bLoaded                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | int                                    | m_UserAddedCount              |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CTlkFileOverride     struct
     bLoaded            dd ?
     m_UserAddedCount   dd ?
   CTlkFileOverride     ends


----

.. _CTlkTable:

CTlkTable
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+-----------------------------------------------+---------------------+
| **Offset** | **Size** | **Type**                                      | **Field**           |
+------------+----------+-----------------------------------------------+---------------------+
| 0x00       | 28       | :ref:`CMapStringToString<CMapStringToString>` | m_mapTokens         |
+------------+----------+-----------------------------------------------+---------------------+
| 0x1c       | 1        | unsigned char                                 | m_currentGender     |
+------------+----------+-----------------------------------------------+---------------------+
|            | 3        |                                               | ``<padding>``       |
+------------+----------+-----------------------------------------------+---------------------+
| 0x20       | 8        | :ref:`CTlkFileOverride<CTlkFileOverride>`     | m_override          |
+------------+----------+-----------------------------------------------+---------------------+
| 0x28       | 8        | :ref:`CFileView<CFileView>`\*                 | m_tlkFiles[2]       |
+------------+----------+-----------------------------------------------+---------------------+
| 0x30       | 4        | unsigned long\*                               | m_engineStrings     |
+------------+----------+-----------------------------------------------+---------------------+
| 0x34       | 4        | unsigned long                                 | m_nEngineStrings    |
+------------+----------+-----------------------------------------------+---------------------+
| 0x38       | 4        | unsigned long                                 | m_nEngineStringBase |
+------------+----------+-----------------------------------------------+---------------------+

Asm Definition

::

   CTlkTable             struct
     m_mapTokens         CMapStringToString <>
     m_currentGender     db ?
                         db ? ; padding
                         db ? ; padding
                         db ? ; padding
     m_override          CTlkFileOverride <>
     m_tlkFiles          dd 2 dup (?) ; CFileView*
     m_engineStrings     dd ? ; unsigned long* 
     m_nEngineStrings    dd ?
     m_nEngineStringBase dd ?
   CTlkTable             ends


----

.. _CTypedPtrArray:

CTypedPtrArray
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 20       | :ref:`CPtrArray<CPtrArray>`            | m_cPtrArray                   |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CTypedPtrArray   struct
     m_cPtrArray    CPtrArray <>
   CTypedPtrArray   ends


----

.. _CTypedPtrList:

CTypedPtrList
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 28       | :ref:`CPtrList<CPtrList>`              | m_cPtrList                    |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CTypedPtrList    struct
     m_cPtrList     CPtrList <>
   CTypedPtrList    ends
