.. _CV Structures:

==========================
CV Structures
==========================

.. toctree::
   :maxdepth: 1


* :ref:`CVEFEvent<CVEFEvent>`
* :ref:`CVEFVidCell<CVEFVidCell>`
* :ref:`CVEFVidCellBase<CVEFVidCellBase>`
* :ref:`CVEFVidCellFile<CVEFVidCellFile>`
* :ref:`CVIDIMG_PALETTEAFFECT<CVIDIMG_PALETTEAFFECT>`
* :ref:`CVIDMODE_CLIP_OUTCODE<CVIDMODE_CLIP_OUTCODE>`
* :ref:`CVIDMODE_RECTICLE_DESCRIPTION<CVIDMODE_RECTICLE_DESCRIPTION>`
* :ref:`CVIDPALETTE_COLOR<CVIDPALETTE_COLOR>`
* :ref:`CVIDPOLY_VERTEX<CVIDPOLY_VERTEX>`
* :ref:`CVRamPool<CVRamPool>`
* :ref:`CVVCHash<CVVCHash>`
* :ref:`CVVCHashEntry<CVVCHashEntry>`
* :ref:`CVariable<CVariable>`
* :ref:`CVariableHash<CVariableHash>`
* :ref:`CVidBitmap<CVidBitmap>`
* :ref:`CVidCell<CVidCell>`
* :ref:`CVidCellFont<CVidCellFont>`
* :ref:`CVidDrawable<CVidDrawable>`
* :ref:`CVidFont<CVidFont>`
* :ref:`CVidImage<CVidImage>`
* :ref:`CVidMode<CVidMode>`
* :ref:`CVidMosaic<CVidMosaic>`
* :ref:`CVidPalette<CVidPalette>`
* :ref:`CVidPng<CVidPng>`
* :ref:`CVidPoly<CVidPoly>`
* :ref:`CVidTile<CVidTile>`
* :ref:`CVideo<CVideo>`
* :ref:`CVisibilityMap<CVisibilityMap>`
* :ref:`CVisibilityMapEllipse<CVisibilityMapEllipse>`
* :ref:`CVisibilityMapTreeNode<CVisibilityMapTreeNode>`
* :ref:`CVisualEffect<CVisualEffect>`
* :ref:`CVisualEffectBase<CVisualEffectBase>`
* :ref:`CVisualEffectFile<CVisualEffectFile>`
* :ref:`CVoice<CVoice>`


.. _CVEFEvent:

CVEFEvent
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | long                                   | m_nTimeFrame                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned long                          | m_dwFlags                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | long                                   | m_nRepeatRate                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | unsigned long                          | m_nResType                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 8        | :ref:`CResRef<CResRef>`                | m_res                         |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 4        | unsigned long                          | m_specialFlags                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1C       | 196      | unsigned long                          | m_pad[49]                     |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVEFEvent        struct
     m_nTimeFrame   dd ?
     m_dwFlags      dd ?
     m_nRepeatRate  dd ?
     m_nResType     dd ?
     m_res          CResRef <>
     m_specialFlags dd ?
     m_pad          dd 49 dup (?)
   CVEFEvent        ends


----

.. _CVEFVidCell:

CVEFVidCell
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 71       | :ref:`CGameObject<CGameObject>`        | m_cGameObject                 |
+------------+----------+----------------------------------------+-------------------------------+
|            | 1        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x48       | 484      | :ref:`CVEFVidCellBase<CVEFVidCellBase>`| m_cVEFVidCellBase             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x22C      | 4        | :ref:`CVidCell<CVidCell>`\*            | m_cVidCell                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x230      | 4        | :ref:`CVidCell<CVidCell>`\*            | m_cShadowVidCell              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x234      | 36       | :ref:`CVidPalette<CVidPalette>`        | m_palette                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x258      | 176      | :ref:`CVidBitmap<CVidBitmap>`          | m_newPalette                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x308      | 4        | int                                    | m_done                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x30C      | 4        | long                                   | m_newDirection                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x310      | 16       | unsigned char                          | m_terrainTable[16]            |
+------------+----------+----------------------------------------+-------------------------------+
| 0x320      | 20       | :ref:`CSound<CSound>`                  | m_sound                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x334      | 4        | :ref:`CVidCell<CVidCell>`\*            | m_cAlphaBam                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x338      | 1        | unsigned char                          | m_level                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x339      | 1        | unsigned char                          | m_nCurSound                   |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x33C      | 4        | unsigned long                          | m_renderMask                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x340      | 4        | unsigned long                          | m_renderType                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x344      | 4        | unsigned long                          | m_myRenderMask                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x348      | 4        | unsigned long                          | m_priority                    |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVEFVidCell          struct
     m_cGameObject      CGameObject <>
                        db ? ; padding
     m_cVEFVidCellBase  CVEFVidCellBase <> 
     m_cVidCell         dd ? ; CVidCell* 
     m_cShadowVidCell   dd ? ; CVidCell* 
     m_palette          CVidPalette <>
     m_newPalette       CVidBitmap <>
     m_done             dd ?
     m_newDirection     dd ?
     m_terrainTable     db 16 dup (?)
     m_sound            CSound <>
     m_cAlphaBam        dd ? ; CVidCell* 
     m_level            db ?
     m_nCurSound        db ?
                        db ? ; padding
                        db ? ; padding
     m_renderMask       dd ?
     m_renderType       dd ?
     m_myRenderMask     dd ?
     m_priority         dd ?
   CVEFVidCell          ends


----

.. _CVEFVidCellBase:

CVEFVidCellBase
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 8        | :ref:`CResRef<CResRef>`                | m_cVidCellRef                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 8        | :ref:`CResRef<CResRef>`                | m_cShadowVidCellRef           |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | unsigned long                          | m_bltFlags                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | unsigned long                          | m_bltInfo                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 4        | unsigned long                          | m_bltFlagsExtra               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1C       | 4        | unsigned long                          | m_bltInfoExtra                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x20       | 8        | :ref:`CPoint<CPoint>`                  | m_offset                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x28       | 4        | unsigned long                          | m_offsetFlags                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x2C       | 4        | long                                   | m_animationSpeed              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x30       | 4        | long                                   | m_numDirections               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x34       | 4        | long                                   | m_direction                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x38       | 4        | unsigned long                          | m_directionFlags              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x3C       | 8        | :ref:`CResRef<CResRef>`                | m_cNewPaletteRef              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x44       | 4        | long                                   | m_height                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x48       | 8        | :ref:`CPoint<CPoint>`                  | m_glowSize                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x50       | 4        | unsigned long                          | m_glowIntensity               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x54       | 4        | long                                   | m_nDuration                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x58       | 8        | :ref:`CResRef<CResRef>`                | m_cVVCResRes                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x60       | 4        | long                                   | m_nStartSequence              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x64       | 4        | long                                   | m_nLoopSequence               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x68       | 4        | long                                   | m_nCurrentSequence            |
+------------+----------+----------------------------------------+-------------------------------+
| 0x6C       | 4        | unsigned long                          | m_sequenceFlags               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x70       | 8        | :ref:`CResRef<CResRef>`                | m_cStartSoundRef              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x78       | 8        | :ref:`CResRef<CResRef>`                | m_cLoopSoundRef               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x80       | 8        | :ref:`CResRef<CResRef>`                | m_cAlphaBamRef                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x88       | 4        | long                                   | m_nEndSequence                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x8C       | 8        | :ref:`CResRef<CResRef>`                | m_cEndSoundRef                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x94       | 336      | unsigned long                          | m_extra[84]                   |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVEFVidCellBase       struct
     m_cVidCellRef       CResRef <>
     m_cShadowVidCellRef CResRef <>
     m_bltFlags          dd ?
     m_bltInfo           dd ?
     m_bltFlagsExtra     dd ?
     m_bltInfoExtra      dd ?
     m_offset            CPoint <>
     m_offsetFlags       dd ?
     m_animationSpeed    dd ?
     m_numDirections     dd ?
     m_direction         dd ?
     m_directionFlags    dd ?
     m_cNewPaletteRef    CResRef <>
     m_height            dd ?
     m_glowSize          CPoint <>
     m_glowIntensity     dd ?
     m_nDuration         dd ?
     m_cVVCResRes        CResRef <>
     m_nStartSequence    dd ?
     m_nLoopSequence     dd ?
     m_nCurrentSequence  dd ?
     m_sequenceFlags     dd ?
     m_cStartSoundRef    CResRef <>
     m_cLoopSoundRef     CResRef <>
     m_cAlphaBamRef      CResRef <>
     m_nEndSequence      dd ?
     m_cEndSoundRef      CResRef <>
     m_extra             dd 84 dup (?)
   CVEFVidCellBase       ends


----

.. _CVEFVidCellFile:

CVEFVidCellFile
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 12       | :ref:`CResHelper<CResHelper>`          | m_cResHelper                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVEFVidCellFile  struct
     m_cResHelper   CResHelper <>
   CVEFVidCellFile  ends


----

.. _CVIDIMG_PALETTEAFFECT:

CVIDIMG_PALETTEAFFECT
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | unsigned long                          | rgbTintColor                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned long                          | rgbAddColor                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | unsigned long                          | rgbLightColor                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 28       | unsigned long\*                        | pRangeTints[7]                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x28       | 8        | unsigned char                          | aRangeTintPeriods[8]          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x30       | 28       | unsigned long\*                        | pRangeAdds[7]                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x4C       | 8        | unsigned char                          | aRangeAddPeriods[8]           |
+------------+----------+----------------------------------------+-------------------------------+
| 0x54       | 28       | unsigned long\*                        | pRangeLights[7]               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x70       | 7        | unsigned char                          | aRangeLightPeriods[7]         |
+------------+----------+----------------------------------------+-------------------------------+
| 0x77       | 1        | unsigned char                          | suppressTints                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVIDIMG_PALETTEAFFECT    struct
     rgbTintColor           dd ?
     rgbAddColor            dd ?
     rgbLightColor          dd ?
     pRangeTints            dd 7 dup (?)
     aRangeTintPeriods      db 8 dup (?)
     pRangeAdds             dd 7 dup (?)
     aRangeAddPeriods       db 8 dup (?)
     pRangeLights           dd 7 dup (?)
     aRangeLightPeriods     db 7 dup (?)
     suppressTints          db ?
   CVIDIMG_PALETTEAFFECT    ends


----

.. _CVIDMODE_CLIP_OUTCODE:

CVIDMODE_CLIP_OUTCODE
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | unsigned int                           | all                           |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned int                           | left : 4                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned int                           | right : 4                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned int                           | bottom : 4                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned int                           | top : 4                       |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVIDMODE_CLIP_OUTCODE struct
     all                 dd ?
     _rect RECORD
                         left:      4,
                         right:     4,
                         bottom:    4,
                         top:       4
   CVIDMODE_CLIP_OUTCODE ends


----

.. _CVIDMODE_RECTICLE_DESCRIPTION:

CVIDMODE_RECTICLE_DESCRIPTION
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 8        | :ref:`CPoint<CPoint>`                  | ptCenter                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 2        | short                                  | xAxis                         |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0A       | 2        | short                                  | yAxis                         |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0c       | 2        | short                                  | piePiecePtXOffset             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0e       | 2        | short                                  | piePiecePtYOffset             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 2        | short                                  | piePieceXOffset               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x12       | 2        | short                                  | piePieceYOffset               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 2        | short                                  | xGap                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x16       | 2        | short                                  | yGap                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 2        | short                                  | cursor                        |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVIDMODE_RECTICLE_DESCRIPTION    struct
     ptCenter                       CPoint <>
     xAxis                          dw ?
     yAxis                          dw ?
     piePiecePtXOffset              dw ?
     piePiecePtYOffset              dw ?
     piePieceXOffset                dw ?
     piePieceYOffset                dw ?
     xGap                           dw ?
     yGap                           dw ?
     cursor                         dw ?
                                    db ? ; padding
                                    db ? ; padding
   CVIDMODE_RECTICLE_DESCRIPTION    ends


----

.. _CVIDPALETTE_COLOR:

CVIDPALETTE_COLOR
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | int                                    | rgbRed                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | int                                    | rgbGreen                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | int                                    | rgbBlue                       |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVIDPALETTE_COLOR    struct
     rgbRed             dd ?
     rgbGreen           dd ?
     rgbBlue            dd ?
   CVIDPALETTE_COLOR    ends


----

.. _CVIDPOLY_VERTEX:

CVIDPOLY_VERTEX
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 2        | unsigned short                         | x                             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x02       | 2        | unsigned short                         | y                             |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVIDPOLY_VERTEX  struct
     x              dw ?
     y              dw ?
   CVIDPOLY_VERTEX  ends


----

.. _CVRamPool:

CVRamPool
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | int                                    | nVTiles                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | st_tiledef\*                           | pTileDef                      |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVRamPool  struct
     nVTiles  dd ?
     pTileDef dd ? ; st_tiledef*
   CVRamPool  ends


----

.. _CVVCHash:

CVVCHash
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | :ref:`CVVCHashEntry<CVVCHashEntry>`\*  | m_hashEntries                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | long                                   | m_nTableEntries               |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVVCHash          struct
     m_hashEntries   dd ? ; CVVCHashEntry* 
     m_nTableEntries dd ?
   CVVCHash          ends


----

.. _CVVCHashEntry:

CVVCHashEntry
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 8        | :ref:`CResRef<CResRef>`                | m_name                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 2        | unsigned short                         | m_priority                    |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | unsigned long                          | m_renderType                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | unsigned long                          | m_renderMask                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVVCHashEntry    struct
     m_name         CResRef <>
     m_priority     dw ?
                    dw ? ; padding
     m_renderType   dd ?
     m_renderMask   dd ?
   CVVCHashEntry     ends


----

.. _CVariable:

CVariable
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 84       | :ref:`CAreaVariable<CAreaVariable>`    | m_cAreaVariable               |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVariable            struct
     m_cAreaVariable    CAreaVariable <>
   CVariable            ends


----

.. _CVariableHash:

CVariableHash
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | :ref:`CVariable<CVariable>`\*          | m_hashEntries                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | long                                   | m_nTableEntries               |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVariableHash     struct
     m_hashEntries   dd ? ; CVariable* 
     m_nTableEntries dd ?
   CVariableHash     ends


----

.. _CVidBitmap:

CVidBitmap
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 156      | :ref:`CVidImage<CVidImage>`            | m_cVidImage                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x9C       | 12       | :ref:`CResHelper<CResHelper>`          | m_cResHelper                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0xa8       | 2        | short                                  | m_nBitCount                   |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0xAC       | 4        | :ref:`CString<CString>`                | m_szResFileName               |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidBitmap        struct
     m_cVidImage     CVidImage <>
     m_cResHelper    CResHelper <>
     m_nBitCount     dw ?
                     dw ? ; padding
     m_szResFileName CString <>
   CVidBitmap        ends


----

.. _CVidCell:

CVidCell
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+-------------------------------------------------+--------------------+
| **Offset** | **Size** | **Type**                                        | **Field**          |
+------------+----------+-------------------------------------------------+--------------------+
| 0x00       | 4        | DWORD                                           | vfptr              |
+------------+----------+-------------------------------------------------+--------------------+
| 0x04       | 156      | :ref:`CVidImage<CVidImage>`                     | m_cVidImage        |
+------------+----------+-------------------------------------------------+--------------------+
| 0xA0       | 12       | :ref:`CResHelper<CResHelper>`                   | m_cResHelper       |
+------------+----------+-------------------------------------------------+--------------------+
| 0xAC       | 2        | short                                           | m_nCurrentFrame    |
+------------+----------+-------------------------------------------------+--------------------+
| 0xAE       | 2        | unsigned short                                  | m_nCurrentSequence |
+------------+----------+-------------------------------------------------+--------------------+
| 0xB0       | 4        | int                                             | m_nAnimType        |
+------------+----------+-------------------------------------------------+--------------------+
| 0xB4       | 4        | int                                             | m_bPaletteChanged  |
+------------+----------+-------------------------------------------------+--------------------+
| 0xB8       | 4        | :ref:`frameTableEntry_st<frameTableEntry_st>`\* | m_pFrame           |
+------------+----------+-------------------------------------------------+--------------------+
| 0xBC       | 1        | unsigned char                                   | m_bShadowOn        |
+------------+----------+-------------------------------------------------+--------------------+
|            | 3        |                                                 | ``<padding>``      |
+------------+----------+-------------------------------------------------+--------------------+

Asm Definition

::

   CVidCell             struc
     vfptr              dd ? ; offset
     m_cVidImage        CVidImage <>
     m_cResHelper       CResHelper <>
     m_nCurrentFrame    dw ?
     m_nCurrentSequence dw ?
     m_nAnimType        dd ?
     m_bPaletteChanged  dd ?
     m_pFrame           dd ?
     m_bShadowOn        db ?
                        db 3 dup(?) ; padding
   CVidCell             ends ; size 0xC0
      


----

.. _CVidCellFont:

CVidCellFont
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 189      | :ref:`CVidCell<CVidCell>`              | m_cVidCell                    |
+------------+----------+----------------------------------------+-------------------------------+
|            | 3        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidCellFont struct
     m_cVidCell CVidCell <>
                db ? ; padding
                db ? ; padding
                db ? ; padding
   CVidCellFont ends


----

.. _CVidDrawable:

CVidDrawable
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | int                                    | texType                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | void\*                                 | tex                           |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidDrawable struct
     texType    dd ?
     tex        dd ? ; void* 
   CVidDrawable ends


----

.. _CVidFont:

CVidFont
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 12       | :ref:`CResHelper<CResHelper>`          | m_cResHelper                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | :ref:`CVidCellFont<CVidCellFont>`\*    | vidCellFont                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | unsigned long                          | foreground                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | unsigned long                          | tintcolor                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 4        | int                                    | pointSize                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1C       | 4        | int                                    | zoom                          |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidFont         struct
     m_cResHelper   CResHelper <>
     vidCellFont    dd ? ; CVidCellFont* 
     foreground     dd ?
     tintcolor      dd ?
     pointSize      dd ?
     zoom           dd ?
   CVidFont         ends


----

.. _CVidImage:

CVidImage
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 36       | :ref:`CVidPalette<CVidPalette>`        | m_cPalette                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x24       | 120      | CVIDIMG_PALETTEAFFECT                  | mPaletteAffects               |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidImage         struct
     m_cPalette      CVidPalette <>
     mPaletteAffects CVIDIMG_PALETTEAFFECT <>
   CVidImage         ends


----

.. _CVidMode:

CVidMode
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | int                                    | m_nPrintFile                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | int                                    | m_nPointerNumber              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | unsigned long                          | m_dwCursorRenderFlags         |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | unsigned long                          | m_dwRedMask                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | unsigned long                          | m_dwGreenMask                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | unsigned long                          | m_dwBlueMask                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 1        | unsigned char                          | m_bFadeTo                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x19       | 1        | unsigned char                          | m_nFade                       |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1C       | 4        | SDL_Window\*                           | m_pWindow                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x20       | 4        | void\*                                 | m_glContext                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x24       | 176      | :ref:`CVidBitmap<CVidBitmap>`          | m_circle                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0xD4       | 4        | int                                    | nWidth                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0xD8       | 4        | int                                    | nHeight                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0xDC       | 1        | bool                                   | bRedrawEntireScreen           |
+------------+----------+----------------------------------------+-------------------------------+
| 0xDD       | 1        | bool                                   | bHardwareMouseCursor          |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0xE0       | 4        | :ref:`CVidCell<CVidCell>`\*            | pPointerVidCell               |
+------------+----------+----------------------------------------+-------------------------------+
| 0xE4       | 4        | :ref:`CVidCell<CVidCell>`\*            | pTooltipVidCell               |
+------------+----------+----------------------------------------+-------------------------------+
| 0xE8       | 1        | unsigned char                          | m_bPrintScreen                |
+------------+----------+----------------------------------------+-------------------------------+
|            | 3        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0xEC       | 4        | unsigned long                          | nTickCount                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0xF0       | 4        | float                                  | m_fInputScale                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0xF4       | 4        | unsigned long                          | rgbGlobalTint                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0xF8       | 1        | unsigned char                          | m_nGammaCorrection            |
+------------+----------+----------------------------------------+-------------------------------+
| 0xF9       | 1        | unsigned char                          | m_nBrightnessCorrection       |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0xFC       | 4        | int                                    | m_nScreenScrollY              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x100      | 4        | int                                    | m_nScreenScrollX              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x104      | 4        | int                                    | nRShift                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x108      | 4        | int                                    | nGShift                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10C      | 4        | int                                    | nBShift                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x110      | 4        | RGBQUAD                                | rgbTint                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x114      | 4        | int                                    | bPointerEnabled               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x118      | 16       | :ref:`CRect<CRect>`                    | rPointerStorage               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x128      | 16       | :ref:`CRect<CRect>`                    | m_rLockedRect                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x138      | 4        | :ref:`CVidCell<CVidCell>`\*            | m_lastCursor                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x13C      | 4        | int                                    | m_lastCursorFrame             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x140      | 4        | int                                    | m_lastCursorSequence          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x144      | 4        | int                                    | m_lastCursorNumber            |
+------------+----------+----------------------------------------+-------------------------------+
| 0x148      | 4        | unsigned long                          | m_lastCursorFlags             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14C      | 4        | unsigned int                           | m_lastCursorResId             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x150      | 4        | SDL_Cursor\*                           | m_hwCursor                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x154      | 4        | SDL_Surface\*                          | m_hwCursorSurface             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x158      | 4        | int                                    | nVRamSurfaces                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x15C      | 176      | :ref:`CVidBitmap<CVidBitmap>`          | m_rgbMasterBitmap             |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidMode                 struct
     m_nPrintFile           dd ?
     m_nPointerNumber       dd ?
     m_dwCursorRenderFlags  dd ?
     m_dwRedMask            dd ?
     m_dwGreenMask          dd ?
     m_dwBlueMask           dd ?
     m_bFadeTo              db ?
     m_nFade                db ?
                            db ? ; padding
                            db ? ; padding
     m_pWindow              dd ? ; SDL_Window* 
     m_glContext            dd ? ; void* 
     m_circle               CVidBitmap  <>
     nWidth                 dd ?
     nHeight                dd ?
     bRedrawEntireScreen    db ?
     bHardwareMouseCursor   db ?
                            db ? ; padding
                            db ? ; padding
     pPointerVidCell        dd ? ; CVidCell* 
     pTooltipVidCell        dd ? ; CVidCell* 
     m_bPrintScreen         db ?
                            db ? ; padding
                            db ? ; padding
                            db ? ; padding
     nTickCount             dd ?
     m_fInputScale          real4 ?
     rgbGlobalTint          dd ?
     m_nGammaCorrection     db ?
     m_nBrightnessCorrection db ?
                            db ? ; padding
                            db ? ; padding
     m_nScreenScrollY       dd ?
     m_nScreenScrollX       dd ?
     nRShift                dd ?
     nGShift                dd ?
     nBShift                dd ?
     rgbTint                RGBQUAD <>
     bPointerEnabled        dd ?
     rPointerStorage        CRect <>
     m_rLockedRect          CRect <>
     m_lastCursor           dd ? ; CVidCell* 
     m_lastCursorFrame      dd ?
     m_lastCursorSequence   dd ?
     m_lastCursorNumber     dd ?
     m_lastCursorFlags      dd ?
     m_lastCursorResId      dd ?
     m_hwCursor             dd ? ; SDL_Cursor* 
     m_hwCursorSurface      dd ? ; SDL_Surface* 
     nVRamSurfaces          dd ?
     m_rgbMasterBitmap      CVidBitmap  <>
   CVidMode                 ends


----

.. _CVidMosaic:

CVidMosaic
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 156      | :ref:`CVidImage<CVidImage>`            | m_cVidImage                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x9C       | 12       | :ref:`CResHelper<CResHelper>`          | m_cResHelper                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidMosaic       struct
     m_cVidImage    CVidImage <>
     m_cResHelper   CResHelper <>
   CVidMosaic       ends


----

.. _CVidPalette:

CVidPalette
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| **Offset** | **Size** | **Type**                                                                                   | **Field**              |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x00       | 4        | unsigned int                                                                               | m_nAUCounter           |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x04       | 4        | unsigned int                                                                               | m_nAUCounterBase       |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x08       | 4        | `RGBQUAD <https://docs.microsoft.com/en-us/windows/win32/api/wingdi/ns-wingdi-rgbquad>`_\* | m_pPalette             |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x0C       | 4        | int                                                                                        | m_nEntries             |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x10       | 4        | unsigned long                                                                              | rgbGlobalTint          |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x14       | 2        | unsigned short                                                                             | m_nType                |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x16       | 1        | unsigned char                                                                              | m_bPaletteOwner        |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
|            | 1        |                                                                                            | ``<padding>``          |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x18       | 4        | int                                                                                        | m_bSubRangesCalculated |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
| 0x1C       | 7        | unsigned char                                                                              | m_rangeColors[7]       |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+
|            | 1        |                                                                                            | ``<padding>``          |
+------------+----------+--------------------------------------------------------------------------------------------+------------------------+

Asm Definition

::

   CVidPalette              struct
     m_nAUCounter           dd ?
     m_nAUCounterBase       dd ?
     m_pPalette             dd ? ; tagRGBQUAD*
     m_nEntries             dd ?
     rgbGlobalTint          dd ?
     m_nType                dw ?
     m_bPaletteOwner        db ?
                            db ? ; padding
     m_bSubRangesCalculated dd ?
     m_rangeColors          db 7 dup (?)
                            db ? ; padding
   CVidPalette              ends


----

.. _CVidPng:

CVidPng
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 156      | :ref:`CVidImage<CVidImage>`            | m_cVidImage                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x9C       | 12       | :ref:`CResHelper<CResHelper>`          | m_cResHelper                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidPng          struct
     m_cVidImage    CVidImage <>
     m_cResHelper   CResHelper <>
   CVidPng          ends


----

.. _CVidPoly:

CVidPoly
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | CVIDPOLY_VERTEX\*                      | m_pVertices                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | int                                    | m_nVertices                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | _EdgeDescription\*                     | m_pET                         |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | _EdgeDescription\*                     | m_pAET                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | void                                   | m_pDrawHLineFunction          |
+------------+----------+----------------------------------------+-------------------------------+


Asm Definition

::

   CVidPoly                 struct
     m_pVertices            dd ? ; CVIDPOLY_VERTEX*
     m_nVertices            dd ?
     m_pET                  dd ? ; _EdgeDescription*
     m_pAET                 dd ? ; _EdgeDescription*
     m_pDrawHLineFunction   dd ? ; void CVidPoly:: (__thiscall * m_pDrawHLineFunction)
   CVidPoly                 ends


----

.. _CVidTile:

CVidTile
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 156      | :ref:`CVidImage<CVidImage>`            | m_cVidImage                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x9C       | 4        | :ref:`CResTile<CResTile>`\*            | pRes                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0xA0       | 4        | unsigned long                          | m_dwFlags                     |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVidTile         struct
     m_cVidImage    CVidImage <>
     pRes           dd ? ; CResTile*
     m_dwFlags      dd ?
   CVidTile         ends


----

.. _CVideo:

CVideo
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | :ref:`CVidMode<CVidMode>`\*            | pCurrentMode                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVideo           struct
     pCurrentMode   dd ? ; CVidMode* 
   CVideo           ends


----

.. _CVisibilityMap:

CVisibilityMap
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+-----------------------------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                                                  | **Field**                     |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x00       | 4        | unsigned short\*                                          | m_pMap                        |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x04       | 4        | long                                                      | m_nMapSize                    |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x08       | 2        | short                                                     | m_nWidth                      |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x0A       | 2        | short                                                     | m_nHeight                     |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x0C       | 1        | unsigned char                                             | m_bOutDoor                    |
+------------+----------+-----------------------------------------------------------+-------------------------------+
|            | 3        |                                                           | ``<padding>``                 |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x10       | 4        | :ref:`CSearchBitmap<CSearchBitmap>`\*                     | m_pSearchMap                  |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x14       | 60       | long                                                      | m_aCharacterIds[15]           |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x50       | 4        | :ref:`CVisibilityMapTreeNode<CVisibilityMapTreeNode>`\*\* | m_pVisMapTrees                |
+------------+----------+-----------------------------------------------------------+-------------------------------+
| 0x54       | 4        | :ref:`CVisibilityMapEllipse<CVisibilityMapEllipse>`\*     | m_pVisMapEllipses             |
+------------+----------+-----------------------------------------------------------+-------------------------------+

Asm Definition

::

   CVisibilityMap       struct
     m_pMap             dd ? ; unsigned short*
     m_nMapSize         dd ?
     m_nWidth           dw ?
     m_nHeight          dw ?
     m_bOutDoor         db ?
                        db ? ; padding
                        db ? ; padding
                        db ? ; padding
     m_pSearchMap       dd ? ; CSearchBitmap* 
     m_aCharacterIds    dd 15 dup (?)
     m_pVisMapTrees     dd ? ; CVisibilityMapTreeNode** 
     m_pVisMapEllipses  dd ? ; CVisibilityMapEllipse* 
   CVisibilityMap       ends


----

.. _CVisibilityMapEllipse:

CVisibilityMapEllipse
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 2        | short                                  | m_nXExploreRange              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x02       | 2        | short                                  | m_nYExploreRange              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned char\*                        | m_pXEllipsePts                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | unsigned char\*                        | m_pYEllipsePts                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 1        | unsigned char                          | m_nXPtsSize                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0D       | 1        | unsigned char                          | m_nYPtsSize                   |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVisibilityMapEllipse    struct
     m_nXExploreRange       dw ?
     m_nYExploreRange       dw ?
     m_pXEllipsePts         dd ? ; unsigned char* 
     m_pYEllipsePts         dd ? ; unsigned char* 
     m_nXPtsSize            db ?
     m_nYPtsSize            db ?
                            db ? ; padding
                            db ? ; padding
   CVisibilityMapEllipse    ends


----

.. _CVisibilityMapTreeNode:

CVisibilityMapTreeNode
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 8        | :ref:`CPoint<CPoint>`                  | m_relativePos                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 2        | unsigned short                         | m_nRange                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0A       | 6        | short                                  | m_aChildren[3]                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 2        | short                                  | m_parent                      |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVisibilityMapTreeNode   struct
     m_relativePos          CPoint <>
     m_nRange               dw ?
     m_aChildren            dw 3 dup (?)
     m_parent               dw ?
                            dw ? ; padding
   CVisibilityMapTreeNode   ends


----

.. _CVisualEffect:

CVisualEffect
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+---------------------------------------------+---------------------+
| **Offset** | **Size** | **Type**                                    | **Field**           |
+------------+----------+---------------------------------------------+---------------------+
| 0x00       | 71       | :ref:`CGameObject<CGameObject>`             | m_cGameObject       |
+------------+----------+---------------------------------------------+---------------------+
|            | 1        |                                             | ``<padding>``       |
+------------+----------+---------------------------------------------+---------------------+
| 0x48       | 448      | :ref:`CVisualEffectBase<CVisualEffectBase>` | m_cVisualEffectBase |
+------------+----------+---------------------------------------------+---------------------+
| 0x208      | 28       | :ref:`CTypedPtrList<CTypedPtrList>`         | m_activeAnimations  |
+------------+----------+---------------------------------------------+---------------------+
| 0x224      | 28       | :ref:`CTypedPtrList<CTypedPtrList>`         | m_timedEvents       |
+------------+----------+---------------------------------------------+---------------------+
| 0x240      | 28       | :ref:`CTypedPtrList<CTypedPtrList>`         | m_triggeredEvents   |
+------------+----------+---------------------------------------------+---------------------+
| 0x25C      | 8        | :ref:`CPoint<CPoint>`                       | m_ptTargetPos       |
+------------+----------+---------------------------------------------+---------------------+
| 0x264      | 4        | long                                        | m_nTargetId         |
+------------+----------+---------------------------------------------+---------------------+
| 0x268      | 8        | :ref:`CPoint<CPoint>`                       | m_posExact          |
+------------+----------+---------------------------------------------+---------------------+
| 0x270      | 8        | :ref:`CPoint<CPoint>`                       | m_posOld            |
+------------+----------+---------------------------------------------+---------------------+
| 0x278      | 4        | long                                        | m_nExistanceCounter |
+------------+----------+---------------------------------------------+---------------------+
| 0x27C      | 4        | long                                        | m_nDirection        |
+------------+----------+---------------------------------------------+---------------------+
| 0x280      | 4        | long                                        | m_nNewDirection     |
+------------+----------+---------------------------------------------+---------------------+
| 0x284      | 8        | :ref:`CPoint<CPoint>`                       | m_posDelta          |
+------------+----------+---------------------------------------------+---------------------+
| 0x28C      | 16       | unsigned char                               | m_terrainTable[16]  |
+------------+----------+---------------------------------------------+---------------------+
| 0x29C      | 4        | :ref:`CStringList<CStringList>`\*           | pList               |
+------------+----------+---------------------------------------------+---------------------+
| 0x2A0      | 4        | _POSITION\*                                 | m_listPos           |
+------------+----------+---------------------------------------------+---------------------+
| 0x2A4      | 4        | int                                         | m_startedList       |
+------------+----------+---------------------------------------------+---------------------+
| 0x2A8      | 4        | unsigned long                               | m_renderMask        |
+------------+----------+---------------------------------------------+---------------------+

Asm Definition

::

   CVisualEffect            struct
     m_cGameObject          CGameObject <>
                            db ? ; padding
     m_cVisualEffectBase    CVisualEffectBase <>
     m_activeAnimations     CTypedPtrList <>
     m_timedEvents          CTypedPtrList <>
     m_triggeredEvents      CTypedPtrList <>
     m_ptTargetPos          CPoint <>
     m_nTargetId            dd ?
     m_posExact             CPoint <>
     m_posOld               CPoint <>
     m_nExistanceCounter    dd ?
     m_nDirection           dd ?
     m_nNewDirection        dd ?
     m_posDelta             CPoint <>
     m_terrainTable         db 16 dup (?)
     pList                  dd ? ; CStringList* 
     m_listPos              dd ? ; __POSITION* 
     m_startedList          dd ?
     m_renderMask           dd ?
   CVisualEffect            ends
 

----

.. _CVisualEffectBase:

CVisualEffectBase
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | unsigned long                          | m_nTimedEventOffset           |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned long                          | m_nTimedEventCount            |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | unsigned long                          | m_nTriggeredEventOffset       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | unsigned long                          | m_nTriggeredEventCount        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | unsigned long                          | m_nTargetType                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | long                                   | m_nSpeed                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 4        | long                                   | m_nDuration                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1C       | 8        | :ref:`CPoint<CPoint>`                  | m_ptStartDeltaV               |
+------------+----------+----------------------------------------+-------------------------------+
| 0x24       | 4        | long                                   | m_nDeltaVDec                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x28       | 4        | long                                   | m_nHeight                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x2C       | 4        | unsigned long                          | m_flags                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x30       | 400      | unsigned long                          | m_extra[100]                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVisualEffectBase         struct
     m_nTimedEventOffset     dd ?
     m_nTimedEventCount      dd ?
     m_nTriggeredEventOffset dd ?
     m_nTriggeredEventCount  dd ?
     m_nTargetType           dd ?
     m_nSpeed                dd ?
     m_nDuration             dd ?
     m_ptStartDeltaV         CPoint  <>
     m_nDeltaVDec            dd ?
     m_nHeight               dd ?
     m_flags                 dd ?
     m_extra                 dd 100 dup (?)
   CVisualEffectBase         ends


----

.. _CVisualEffectFile:

CVisualEffectFile
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 12       | :ref:`CResHelper<CResHelper>`          | m_cResHelper                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVisualEffectFile struct
     m_cResHelper    CResHelper <>
   CVisualEffectFile ends


----

.. _CVoice:

CVoice
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | :ref:`CObject<CObject>`                | m_cObject                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | :ref:`CSound<CSound>`\*                | m_pSound                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | unsigned int                           | m_nBuffer                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | unsigned int                           | m_nSource                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | int                                    | m_nChannel                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | int                                    | m_nPriority                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 1        | bool                                   | m_bDuckedOthers               |
+------------+----------+----------------------------------------+-------------------------------+
|            | 3        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CVoice            struct
     m_cObject       CObject <>
     m_pSound        dd ? ; CSound* 
     m_nBuffer       dd ?
     m_nSource       dd ?
     m_nChannel      dd ?
     m_nPriority     dd ?
     m_bDuckedOthers db ?
                     db ? ; padding
                     db ? ; padding
                     db ? ; padding
   CVoice            ends

