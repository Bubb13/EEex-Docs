.. _CF Structures:

==========================
CF Structures
==========================

.. toctree::
   :maxdepth: 1


* :ref:`CFeedbackEntry<CFeedbackEntry>`
* :ref:`CFile<CFile>`
* :ref:`CFileException<CFileException>`
* :ref:`CFileFind<CFileFind>`
* :ref:`CFileReaderParms<CFileReaderParms>`
* :ref:`CFileStatus<CFileStatus>`
* :ref:`CFileView<CFileView>`
* :ref:`CFixedAlloc<CFixedAlloc>`
* :ref:`CFixedAlloc::CNode<CFixedAllocCNode>`
* :ref:`CFog<CFog>`


.. _CFeedbackEntry:

CFeedbackEntry
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 2        | unsigned short                         | feedBackId                    |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | long                                   | int1                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | long                                   | int2                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | long                                   | int3                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | unsigned long                          | ref1                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | long                                   | int4                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 4        | :ref:`CString<CString>`                | stringIn                      |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CFeedbackEntry   struct
     feedBackId     dw ?
                    dw ? ; padding
     int1           dd ?
     int2           dd ?
     int3           dd ?
     ref1           dd ?
     int4           dd ?
     stringIn       CString <>
   CFeedbackEntry   ends


.. _CFile:

CFile
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | :ref:`CObject<CObject>`                | m_cObject                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned int                           | m_hFile                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | int                                    | m_bCloseOnDelete              |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | :ref:`CString<CString>`                | m_strFileName                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CFile                struct
     m_cObject          CObject <>
     m_hFile            dd ?
     m_bCloseOnDelete   dd ?
     m_strFileName      CString <>
   CFile                ends


.. _CFileException:

CFileException
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 12       | :ref:`CException<CException>`          | m_cException                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | int                                    | m_cause                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | long                                   | m_lOsError                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | :ref:`CString<CString>`                | m_strFileName                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CFileException   struct
     m_cException   CException <>
     m_cause        dd ?
     m_lOsError     dd ?
     m_strFileName  CString <> 
   CFileException   ends


.. _CFileFind:

CFileFind
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | :ref:`CObject<CObject>`                | m_cObject                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | :ref:`CString<CString>`                | m_strRoot                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | void\*                                 | m_pFoundInfo                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | void\*                                 | m_pNextInfo                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | void\*                                 | m_hContext                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | int                                    | m_bGotLast                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 1        | char                                   | m_chDirSeparator              |
+------------+----------+----------------------------------------+-------------------------------+
|            | 3        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+


Asm Definition

::

   CFileFind            struct
     m_cObject          CObject <>
     m_strRoot          CString <> 
     m_pFoundInfo       dd ? ; void*
     m_pNextInfo        dd ? ; void*
     m_hContext         dd ? ; void*
     m_bGotLast         dd ?
     m_chDirSeparator   db ?
                        db ? ; padding
                        db ? ; padding
                        db ? ; padding
   CFileFind            ends
     

.. _CFileReaderParms:

CFileReaderParms
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | unsigned char\*                        | m_pSrc                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned char\*                        | m_pSrcCurrent                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | int                                    | m_nSrcLength                  |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CFileReaderParms struct
     m_pSrc         dd ? ; unsigned char* 
     m_pSrcCurrent  dd ? ; unsigned char* 
     m_nSrcLength   dd ?
   CFileReaderParms ends


.. _CFileStatus:

CFileStatus
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 8        | :ref:`CTime<CTime>`                    | m_ctime                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 8        | :ref:`CTime<CTime>`                    | m_mtime                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 8        | :ref:`CTime<CTime>`                    | m_atime                       |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 4        | long                                   | m_size                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1C       | 1        | unsigned char                          | m_attribute                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1D       | 1        | unsigned char                          | _m_padding                    |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x20       | 4        | :ref:`CString<CString>`                | m_sFullName                   |
+------------+----------+----------------------------------------+-------------------------------+
|            | 4        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CFileStatus      struct
     m_ctime        CTime <>
     m_mtime        CTime <>
     m_atime        CTime <>
     m_size         dd ?
     m_attribute    db ?
     _m_padding     db ?
                    db ? ; padding
                    db ? ; padding
     m_sFullName    CString <> 
                    dd ? ; padding
   CFileStatus      ends


.. _CFileView:

CFileView
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 20       | file_t                                 | f                             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 16       | view_t                                 | v                             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x24       | 4        | int                                    | fileSize                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x28       | 4        | long                                   | filePos                       |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CFileView    struct
     f          file_t <>
     v          view_t <>
     fileSize   dd ?
     filePos    dd ?
   CFileView    ends


.. _CFixedAlloc:

CFixedAlloc
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+-----------------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                                      | **Field**                     |
+------------+----------+-----------------------------------------------+-------------------------------+
| 0x00       | 4        | unsigned int                                  | m_nAllocSize                  |
+------------+----------+-----------------------------------------------+-------------------------------+
| 0x04       | 4        | unsigned int                                  | m_nBlockSize                  |
+------------+----------+-----------------------------------------------+-------------------------------+
| 0x08       | 4        | :ref:`CPlex<CPlex>`\*                         | m_pBlocks                     |
+------------+----------+-----------------------------------------------+-------------------------------+
| 0x0C       | 4        | :ref:`CFixedAlloc::CNode<CFixedAllocCNode>`\* | m_pNodeFree                   |
+------------+----------+-----------------------------------------------+-------------------------------+

Asm Definition

::

   CFixedAlloc      struct
     m_nAllocSize   dd ?
     m_nBlockSize   dd ?
     m_pBlocks      dd ? ; CPlex*
     m_pNodeFree    dd ? ; CFixedAlloc::CNode*
   CFixedAlloc      ends


.. _CFixedAllocCNode:

CFixedAlloc::CNode
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+-----------------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                                      | **Field**                     |
+------------+----------+-----------------------------------------------+-------------------------------+
| 0x00       | 4        | :ref:`CFixedAlloc::CNode<CFixedAllocCNode>`\* | pNext                         |
+------------+----------+-----------------------------------------------+-------------------------------+

Asm Definition

::

   CFixedAlloc      struct
     pNext          dd ? ; CFixedAlloc::CNode*
   CFixedAlloc      ends


.. _CFog:

CFog
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

+------------+----------+----------------------------------------+-------------------------------+
| **Offset** | **Size** | **Type**                               | **Field**                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x00       | 4        | float\*                                | densityLast                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x04       | 4        | float\*                                | densityCurrent                |
+------------+----------+----------------------------------------+-------------------------------+
| 0x08       | 4        | float\*                                | densityNext                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x0C       | 4        | int                                    | N                             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x10       | 4        | float                                  | dt                            |
+------------+----------+----------------------------------------+-------------------------------+
| 0x14       | 4        | float                                  | diff                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x18       | 4        | float                                  | visc                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x1C       | 4        | float                                  | force                         |
+------------+----------+----------------------------------------+-------------------------------+
| 0x20       | 4        | float                                  | source                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x24       | 4        | int                                    | dvel                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x28       | 4        | float\*                                | u                             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x2C       | 4        | float\*                                | v                             |
+------------+----------+----------------------------------------+-------------------------------+
| 0x30       | 4        | float\*                                | u_prev                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x34       | 4        | float\*                                | v_prev                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x38       | 4        | float\*                                | dens                          |
+------------+----------+----------------------------------------+-------------------------------+
| 0x3C       | 4        | float\*                                | dens_prev                     |
+------------+----------+----------------------------------------+-------------------------------+
| 0x40       | 1        | bool                                   | pointEnabled                  |
+------------+----------+----------------------------------------+-------------------------------+
|            | 3        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x44       | 4        | int                                    | pointAmount                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x48       | 4        | int                                    | pointDuration                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x4C       | 8        | :ref:`CPoint<CPoint>`                  | pointPos                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x54       | 4        | float                                  | pointUForce                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x58       | 4        | float                                  | pointVForce                   |
+------------+----------+----------------------------------------+-------------------------------+
| 0x5C       | 8        | :ref:`CPoint<CPoint>`                  | explosionPos                  |
+------------+----------+----------------------------------------+-------------------------------+
| 0x64       | 4        | int                                    | updateCounter                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x68       | 1        | bool                                   | fading                        |
+------------+----------+----------------------------------------+-------------------------------+
| 0x69       | 1        | bool                                   | initialized                   |
+------------+----------+----------------------------------------+-------------------------------+
|            | 2        |                                        | ``<padding>``                 |
+------------+----------+----------------------------------------+-------------------------------+
| 0x6C       | 4        | float                                  | alpha                         |
+------------+----------+----------------------------------------+-------------------------------+
| 0x70       | 4        | int                                    | contrast                      |
+------------+----------+----------------------------------------+-------------------------------+
| 0x74       | 4        | unsigned long                          | innerColor                    |
+------------+----------+----------------------------------------+-------------------------------+
| 0x78       | 4        | unsigned long                          | outerColor                    |
+------------+----------+----------------------------------------+-------------------------------+

Asm Definition

::

   CFog             struct
     densityLast    dd ? ; float*
     densityCurrent dd ? ; float*
     densityNext    dd ? ; float*
     N              dd ?
     dt             real4 ?
     diff           real4 ?
     visc           real4 ?
     force          real4 ?
     source         real4 ?
     dvel           dd ?
     u              dd ? ; float*
     v              dd ? ; float*
     u_prev         dd ? ; float*
     v_prev         dd ? ; float*
     dens           dd ? ; float*
     dens_prev      dd ? ; float*
     pointEnabled   db ?
                    db ? ; padding
                    db ? ; padding
                    db ? ; padding
     pointAmount    dd ?
     pointDuration  dd ?
     pointPos       CPoint <>
     pointUForce    real4 ?
     pointVForce    real4 ?
     explosionPos   CPoint <>
     updateCounter  dd ?
     fading         db ?
     initialized    db ?
                    db ? ; padding
                    db ? ; padding
     alpha          real4 ?
     contrast       dd ?
     innerColor     dd ?
     outerColor     dd ?
   CFog             ends

