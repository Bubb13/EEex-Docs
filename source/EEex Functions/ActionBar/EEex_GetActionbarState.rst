.. _EEex_GetActionbarState:

===================================
EEex_GetActionbarState 
===================================

::

   EEex_GetActionbarState()

Gets the state of the actionbar

**Parameters**

None

**Return**

Returns the action bar state which can be one of the following:

+-------------------+--------------+--------------------------------------------------+
| **Unique Config** | **State(s)** | **Notes**                                        |
+-------------------+--------------+--------------------------------------------------+
| [0]               | 1            | Mage / Sorcerer                                  |
+-------------------+--------------+--------------------------------------------------+
| [1]               | 2            | Fighter                                          |
+-------------------+--------------+--------------------------------------------------+
| [2]               | 3            | Cleric                                           |
+-------------------+--------------+--------------------------------------------------+
| [3]               | 4            | Thief                                            |
+-------------------+--------------+--------------------------------------------------+
| [4]               | 5            | Bard                                             |
+-------------------+--------------+--------------------------------------------------+
| [5]               | 6            | Paladin                                          |
+-------------------+--------------+--------------------------------------------------+
| [6]               | 7            | Fighter Mage                                     |
+-------------------+--------------+--------------------------------------------------+
| [7]               | 8            | Fighter Cleric                                   |
+-------------------+--------------+--------------------------------------------------+
| [8]               | 9            | Fighter Thief                                    |
+-------------------+--------------+--------------------------------------------------+
| [9]               | 10           | Fighter Mage Thief                               |
+-------------------+--------------+--------------------------------------------------+
| [10]              | 11           | Druid                                            |
+-------------------+--------------+--------------------------------------------------+
| [11]              | 12           | Ranger                                           |
+-------------------+--------------+--------------------------------------------------+
| [12]              | 13           | Mage Thief                                       |
+-------------------+--------------+--------------------------------------------------+
| [13]              | 14           | Cleric Mage                                      |
+-------------------+--------------+--------------------------------------------------+
| [14]              | 15           | Cleric Thief                                     |
+-------------------+--------------+--------------------------------------------------+
| [15]              | 16           | Fighter Druid                                    |
+-------------------+--------------+--------------------------------------------------+
| [16]              | 17           | Fighter Mage Cleric                              |
+-------------------+--------------+--------------------------------------------------+
| [17]              | 18           | Cleric Ranger                                    |
+-------------------+--------------+--------------------------------------------------+
| [18]              | 20           | Monk                                             |
+-------------------+--------------+--------------------------------------------------+
| [19]              | 21           | Shaman                                           |
+-------------------+--------------+--------------------------------------------------+
| [20]              | 101          | Select Weapon Ability                            |
+-------------------+--------------+--------------------------------------------------+
| [21]              | 102          | Spells (Select Quick Spell)                      |
+-------------------+--------------+--------------------------------------------------+
| [21]              | 103          | Spells (Cast)                                    |
+-------------------+--------------+--------------------------------------------------+
| [22]              | 104          | Select Quick Item Ability                        |
+-------------------+--------------+--------------------------------------------------+
| [22]              | 105          | Use Item                                         |
+-------------------+--------------+--------------------------------------------------+
| [23]              | 106          | Special Abilities                                |
+-------------------+--------------+--------------------------------------------------+
| [24]              | 107          | Select Quick Formation                           |
+-------------------+--------------+--------------------------------------------------+
| [25]              | 108          | Defunct Select Quick Formation (Not used)        |
+-------------------+--------------+--------------------------------------------------+
| [26]              | 109          | Group Selected                                   |
+-------------------+--------------+--------------------------------------------------+
| [27]              | 110          | Unknown (No buttons defined; not used?)          |
+-------------------+--------------+--------------------------------------------------+
| [28]              | 111          | Internal List (Opcode #214)                      |
+-------------------+--------------+--------------------------------------------------+
| [29]              | 112          | Controlled (Class doesn't have a dedicated state)|
+-------------------+--------------+--------------------------------------------------+
| [30]              | 113          | Cleric / Mage Spells (Cast)                      |
+-------------------+--------------+--------------------------------------------------+
| [30]              | 114          | Cleric / Mage Spells (Select Quick Spell)        |
+-------------------+--------------+--------------------------------------------------+

.. note:: "Unique Config" refers to the button types that eventually get set from the state(s) on the right. In a few instances the engine reuses the same button configuration for multiple purposes. You can see this in the Spells config; one state is for setting a quick button, while another is actually for casting.

**Notes**

Actionbar listeners now pass the state as the second param, like this

::

   function B3DebugPrintActionbar(config, state)
       Infinity_DisplayString("config: "..config..", state: "..state)
   end
   EEex_AddActionbarListener(B3DebugPrintActionbar)

You can catch the "Cast Spell" actionbar state like this:

::

   function B3DetectCastSpell(config, state)
       if state == 103 then
           -- Cast Spell opened, no matter the source
       end
   end
   EEex_AddActionbarListener(B3DetectCastSpell)


**Example**

::

   local state = EEex_GetActionbarState()

**See Also**

:ref:`EEex_SetActionbarState<EEex_SetActionbarState>`
