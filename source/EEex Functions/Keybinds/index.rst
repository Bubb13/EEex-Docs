.. role:: raw-html(raw)
   :format: html

.. role:: underline
   :class: underline

.. role:: bold-italic
   :class: bold-italic

.. |rarr| unicode:: U+2192

========
Keybinds
========

.. _EEex_Keybinds_Cast:

EEex_Keybinds_Cast
^^^^^^^^^^^^^^^^^^


.. admonition:: Summary

   Attempts to cast ``resref`` as the leader of the currently selected sprites.

**Parameters:**

+----------+----------+-------------------+----------------------------------+
| **Name** | **Type** | **Default Value** | **Description**                  |
+==========+==========+===================+==================================+
| resref   | string   |                   | The resref of the spell to cast. |
+----------+----------+-------------------+----------------------------------+

**Return Values:**

+----------+------------------------------------------------------------------------+
| **Type** | **Description**                                                        |
+==========+========================================================================+
| boolean  | ``true`` if the casting was started successfully; ``false`` otherwise. |
+----------+------------------------------------------------------------------------+


.. _EEex_Keybinds_CastTwoStep:

EEex_Keybinds_CastTwoStep
^^^^^^^^^^^^^^^^^^^^^^^^^


.. admonition:: Summary

   Attempts to cast ``firstResref`` |rarr| ``secondResref`` as the leader of the currently selected sprites.

**Parameters:**

+--------------+----------+-------------------+--------------------------------------------------------------------------------------------------------------------------+
| **Name**     | **Type** | **Default Value** | **Description**                                                                                                          |
+==============+==========+===================+==========================================================================================================================+
| firstResref  | string   |                   | The resref of the first spell to cast. :raw-html:`<br/>` This spell should invoke op214.                                 |
+--------------+----------+-------------------+--------------------------------------------------------------------------------------------------------------------------+
| secondResref | string   |                   | The resref of the second spell to cast. :raw-html:`<br/>` This spell should be provided by the previously invoked op214. |
+--------------+----------+-------------------+--------------------------------------------------------------------------------------------------------------------------+


.. _EEex_Keybinds_Get:

EEex_Keybinds_Get
^^^^^^^^^^^^^^^^^


.. admonition:: Summary

   Returns a table representing the keybind with the given ``id``.

**Parameters:**

+----------+----------+-------------------+------------------------------------------+
| **Name** | **Type** | **Default Value** | **Description**                          |
+==========+==========+===================+==========================================+
| id       | string   |                   | The unique id of the associated keybind. |
+----------+----------+-------------------+------------------------------------------+

**Return Values:**

+-------------+-----------------+
| **Type**    | **Description** |
+=============+=================+
| table | nil | See summary.    |
+-------------+-----------------+

==========================================================================================================================================================================================================

.. _the-keybind-table:

**The Keybind Table**
*********************

+--------------+------------------------+-------------------------------------------------------------------------------------------------------------------------+
| Key          | Value Type             | Description                                                                                                             |
+==============+========================+=========================================================================================================================+
| callback     | function               | Function that is called when the conditions required by ``fireType`` are satisfied.                                     |
+--------------+------------------------+-------------------------------------------------------------------------------------------------------------------------+
| fireType     | EEex_Keybinds_FireType | The situation in which ``callback`` is invoked.                                                                         |
+--------------+------------------------+-------------------------------------------------------------------------------------------------------------------------+
| keys         | table                  | Table of keycodes defining the keybind's main sequence of keys.                                       :raw-html:`<br/>` |
|              |                        | These keys must be pressed in the defined order for the keybind to be satisfied.                                        |
+--------------+------------------------+-------------------------------------------------------------------------------------------------------------------------+
| modifierKeys | table                  | Table of keycodes defining the keys that are required to be down when the main sequence is satisfied. :raw-html:`<br/>` |
|              |                        | Allowed keys include the left / right variants of Ctrl, Shift, and Alt.                                                 |
+--------------+------------------------+-------------------------------------------------------------------------------------------------------------------------+

==========================================================================================================================================================================================================

**EEex_Keybinds_FireType**
**************************

+--------------+----------------------------------------------------------------------------------------+
| Ordinal Name | Description                                                                            |
+==============+========================================================================================+
| UP           | Fires when any key is released after the keybind has been satisfied. :raw-html:`<br/>` |
|              | Additional key presses will cancel the satisfaction of the keybind.                    |
+--------------+----------------------------------------------------------------------------------------+
| DOWN         | Fires when the keybind has been satisfied.                                             |
+--------------+----------------------------------------------------------------------------------------+

.. _EEex_Keybinds_SelectPortrait:

EEex_Keybinds_SelectPortrait
^^^^^^^^^^^^^^^^^^^^^^^^^^^^


.. admonition:: Summary

   Attempts to select the portrait in ``portraitIndex``.

**Parameters:**

+---------------+----------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Name**      | **Type** | **Default Value** | **Description**                                                                                                                                      |
+===============+==========+===================+======================================================================================================================================================+
| portraitIndex | number   |                   | The index of the portrait to select.                                                                                                                 |
+---------------+----------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+
| dontUnselect  | boolean  | ``false``         | If ``true``, prevents the deselection of already-selected sprites. :raw-html:`<br/>` This is analogous to holding Shift in the original keybindings. |
+---------------+----------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------+


.. _EEex_Keybinds_Update:

EEex_Keybinds_Update
^^^^^^^^^^^^^^^^^^^^


.. admonition:: Summary

   Updates the keybind with the given ``id`` with the fields present in ``args``.

**Parameters:**

+----------+----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| **Name** | **Type** | **Default Value** | **Description**                                                                                                                            |
+==========+==========+===================+============================================================================================================================================+
| id       | string   |                   | The unique id of the associated keybind.                                                                                                   |
+----------+----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| args     | table    |                   | A table containing fields used to update the keybind. :raw-html:`<br/>` See :ref:`The Keybind Table <the-keybind-table>` for more details. |
+----------+----------+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------+


