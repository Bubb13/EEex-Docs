.. role:: raw-html(raw)
   :format: html

.. role:: underline
   :class: underline

.. role:: bold-italic
   :class: bold-italic

.. |rarr| unicode:: U+2192

====
Area
====

.. _EEex_Area_CountAllOfTypeInRange:

EEex_Area_CountAllOfTypeInRange
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``countAllOfTypeInRange``

.. admonition:: Summary

   Returns the number of creatures that match ``aiObjectType`` around (``centerX``, ``centerY``)
   in the given ``range``, as per the ``NumCreature()`` trigger.

**Parameters:**

+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Name**             | **Type**       | **Default Value**                             | **Description**                                                                                                                                                               |
+======================+================+===============================================+===============================================================================================================================================================================+
| area                 | CGameArea      |                                               | The area to search.                                                                                                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerX              | number         |                                               | The x coordinate to use as the center of the search radius.                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerY              | number         |                                               | The y coordinate to use as the center of the search radius.                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| aiObjectType         | CAIObjectType  |                                               | The AI object type used to filter the objects passed to ``func``. :raw-html:`<br/>` Most commonly retrieved from ``EEex_Object_ParseString()``. Remember to call ``:free()``. |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| range                | number         |                                               | The radius to search around (``centerX``, ``centerY``). ``448`` is a sprite's default visual range.                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForLineOfSight | boolean        | ``true``                                      | Determines whether LOS is required from (``centerX``, ``centerY``) to considered objects.                                                                                     |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForNonSprites  | boolean        | ``false``                                     | Determines whether non-sprite objects in the main objects list are considered.                                                                                                |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| terrainTable         | Array<byte,16> | ``CGameObject.DEFAULT_VISIBLE_TERRAIN_TABLE`` | The terrain table to use for determining LOS.                                                                                                                                 |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Return Values:**

+----------+-----------------+
| **Type** | **Description** |
+==========+=================+
| number   | See summary.    |
+----------+-----------------+


.. _EEex_Area_CountAllOfTypeStringInRange:

EEex_Area_CountAllOfTypeStringInRange
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``countAllOfTypeStringInRange``

.. admonition:: Summary

   Returns the number of creatures that match ``aiObjectTypeString`` around (``centerX``, ``centerY``)
   in the given ``range``, as per the ``NumCreature()`` trigger.

**Parameters:**

+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Name**             | **Type**       | **Default Value**                             | **Description**                                                                                                                                                                                       |
+======================+================+===============================================+=======================================================================================================================================================================================================+
| area                 | CGameArea      |                                               | The area to search.                                                                                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerX              | number         |                                               | The x coordinate to use as the center of the search radius.                                                                                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerY              | number         |                                               | The y coordinate to use as the center of the search radius.                                                                                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| aiObjectTypeString   | string         |                                               | The AI object type string used to filter the objects added to the return table. :raw-html:`<br/>` Automatically parsed by ``EEex_Object_ParseString()``; the resulting object is freed before return. |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| range                | number         |                                               | The radius to search around (``centerX``, ``centerY``). ``448`` is a sprite's default visual range.                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForLineOfSight | boolean        | ``true``                                      | Determines whether LOS is required from (``centerX``, ``centerY``) to considered objects.                                                                                                             |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForNonSprites  | boolean        | ``false``                                     | Determines whether non-sprite objects in the main objects list are considered.                                                                                                                        |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| terrainTable         | Array<byte,16> | ``CGameObject.DEFAULT_VISIBLE_TERRAIN_TABLE`` | The terrain table to use for determining LOS.                                                                                                                                                         |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Return Values:**

+----------+-----------------+
| **Type** | **Description** |
+==========+=================+
| number   | See summary.    |
+----------+-----------------+


.. _EEex_Area_CreateVisualEffect:

EEex_Area_CreateVisualEffect
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. warning::
   This function is currently undocumented.

.. _EEex_Area_ForAllOfTypeInRange:

EEex_Area_ForAllOfTypeInRange
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``forAllOfTypeInRange``

.. admonition:: Summary

   Calls ``func`` for every creature that matches ``aiObjectType`` around (``centerX``, ``centerY``)
   in the given ``range``, as per the ``NumCreature()`` trigger.

**Parameters:**

+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Name**             | **Type**       | **Default Value**                             | **Description**                                                                                                                                                               |
+======================+================+===============================================+===============================================================================================================================================================================+
| area                 | CGameArea      |                                               | The area to search.                                                                                                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerX              | number         |                                               | The x coordinate to use as the center of the search radius.                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerY              | number         |                                               | The y coordinate to use as the center of the search radius.                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| aiObjectType         | CAIObjectType  |                                               | The AI object type used to filter the objects passed to ``func``. :raw-html:`<br/>` Most commonly retrieved from ``EEex_Object_ParseString()``. Remember to call ``:free()``. |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| range                | number         |                                               | The radius to search around (``centerX``, ``centerY``). ``448`` is a sprite's default visual range.                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| func                 | function       |                                               | The function to call for every creature in the search area.                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForLineOfSight | boolean        | ``true``                                      | Determines whether LOS is required from (``centerX``, ``centerY``) to considered objects.                                                                                     |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForNonSprites  | boolean        | ``false``                                     | Determines whether non-sprite objects in the main objects list are considered.                                                                                                |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| terrainTable         | Array<byte,16> | ``CGameObject.DEFAULT_VISIBLE_TERRAIN_TABLE`` | The terrain table to use for determining LOS.                                                                                                                                 |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


.. _EEex_Area_ForAllOfTypeStringInRange:

EEex_Area_ForAllOfTypeStringInRange
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``forAllOfTypeStringInRange``

.. admonition:: Summary

   Calls ``func`` for every creature that matches ``aiObjectTypeString`` around (``centerX``, ``centerY``)
   in the given ``range``, as per the ``NumCreature()`` trigger.

**Parameters:**

+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Name**             | **Type**       | **Default Value**                             | **Description**                                                                                                                                                                                |
+======================+================+===============================================+================================================================================================================================================================================================+
| area                 | CGameArea      |                                               | The area to search.                                                                                                                                                                            |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerX              | number         |                                               | The x coordinate to use as the center of the search radius.                                                                                                                                    |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerY              | number         |                                               | The y coordinate to use as the center of the search radius.                                                                                                                                    |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| aiObjectTypeString   | string         |                                               | The AI object type string used to filter the objects passed to ``func``. :raw-html:`<br/>` Automatically parsed by ``EEex_Object_ParseString()``; the resulting object is freed before return. |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| range                | number         |                                               | The radius to search around (``centerX``, ``centerY``). ``448`` is a sprite's default visual range.                                                                                            |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| func                 | function       |                                               | The function to call for every creature in the search area.                                                                                                                                    |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForLineOfSight | boolean        | ``true``                                      | Determines whether LOS is required from (``centerX``, ``centerY``) to considered objects.                                                                                                      |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForNonSprites  | boolean        | ``false``                                     | Determines whether non-sprite objects in the main objects list are considered.                                                                                                                 |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| terrainTable         | Array<byte,16> | ``CGameObject.DEFAULT_VISIBLE_TERRAIN_TABLE`` | The terrain table to use for determining LOS.                                                                                                                                                  |
+----------------------+----------------+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


.. _EEex_Area_GetAllOfTypeInRange:

EEex_Area_GetAllOfTypeInRange
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``getAllOfTypeInRange``

.. admonition:: Summary

   Returns a table populated by every creature that matches ``aiObjectType`` around (``centerX``, ``centerY``)
   in the given ``range``, as per the ``NumCreature()`` trigger.

**Parameters:**

+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Name**             | **Type**       | **Default Value**                             | **Description**                                                                                                                                                               |
+======================+================+===============================================+===============================================================================================================================================================================+
| area                 | CGameArea      |                                               | The area to search.                                                                                                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerX              | number         |                                               | The x coordinate to use as the center of the search radius.                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerY              | number         |                                               | The y coordinate to use as the center of the search radius.                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| aiObjectType         | CAIObjectType  |                                               | The AI object type used to filter the objects passed to ``func``. :raw-html:`<br/>` Most commonly retrieved from ``EEex_Object_ParseString()``. Remember to call ``:free()``. |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| range                | number         |                                               | The radius to search around (``centerX``, ``centerY``). ``448`` is a sprite's default visual range.                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForLineOfSight | boolean        | ``true``                                      | Determines whether LOS is required from (``centerX``, ``centerY``) to considered objects.                                                                                     |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForNonSprites  | boolean        | ``false``                                     | Determines whether non-sprite objects in the main objects list are considered.                                                                                                |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| terrainTable         | Array<byte,16> | ``CGameObject.DEFAULT_VISIBLE_TERRAIN_TABLE`` | The terrain table to use for determining LOS.                                                                                                                                 |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Return Values:**

+----------+-----------------+
| **Type** | **Description** |
+==========+=================+
| table    | See summary.    |
+----------+-----------------+


.. _EEex_Area_GetAllOfTypeStringInRange:

EEex_Area_GetAllOfTypeStringInRange
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``getAllOfTypeStringInRange``

.. admonition:: Summary

   Returns a table populated by every creature that matches ``aiObjectTypeString`` around (``centerX``, ``centerY``)
   in the given ``range``, as per the ``NumCreature()`` trigger.

**Parameters:**

+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Name**             | **Type**       | **Default Value**                             | **Description**                                                                                                                                                                                       |
+======================+================+===============================================+=======================================================================================================================================================================================================+
| area                 | CGameArea      |                                               | The area to search.                                                                                                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerX              | number         |                                               | The x coordinate to use as the center of the search radius.                                                                                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| centerY              | number         |                                               | The y coordinate to use as the center of the search radius.                                                                                                                                           |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| aiObjectTypeString   | string         |                                               | The AI object type string used to filter the objects added to the return table. :raw-html:`<br/>` Automatically parsed by ``EEex_Object_ParseString()``; the resulting object is freed before return. |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| range                | number         |                                               | The radius to search around (``centerX``, ``centerY``). ``448`` is a sprite's default visual range.                                                                                                   |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForLineOfSight | boolean        | ``true``                                      | Determines whether LOS is required from (``centerX``, ``centerY``) to considered objects.                                                                                                             |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bCheckForNonSprites  | boolean        | ``false``                                     | Determines whether non-sprite objects in the main objects list are considered.                                                                                                                        |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| terrainTable         | Array<byte,16> | ``CGameObject.DEFAULT_VISIBLE_TERRAIN_TABLE`` | The terrain table to use for determining LOS.                                                                                                                                                         |
+----------------------+----------------+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Return Values:**

+----------+-----------------+
| **Type** | **Description** |
+==========+=================+
| table    | See summary.    |
+----------+-----------------+


.. _EEex_Area_GetNearestOpenPosition:

EEex_Area_GetNearestOpenPosition
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. warning::
   This function is currently undocumented.

.. _EEex_Area_GetVariableInt:

EEex_Area_GetVariableInt
^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``getVariableInt``

.. admonition:: Summary

   Returns the integer value of the ``variableName`` Global scoped to ``area``.
   If no variable named ``variableName`` exists, returns ``0``.

**Parameters:**

+--------------+-----------+-------------------+--------------------------------------------------------+
| **Name**     | **Type**  | **Default Value** | **Description**                                        |
+==============+===========+===================+========================================================+
| area         | CGameArea |                   | The area that the variable being fetched is scoped to. |
+--------------+-----------+-------------------+--------------------------------------------------------+
| variableName | string    |                   | The name of the variable to fetch.                     |
+--------------+-----------+-------------------+--------------------------------------------------------+

**Return Values:**

+----------+-----------------+
| **Type** | **Description** |
+==========+=================+
| number   | See summary.    |
+----------+-----------------+


.. _EEex_Area_GetVariableString:

EEex_Area_GetVariableString
^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``getVariableString``

.. admonition:: Summary

   Returns the string value of the ``variableName`` Global scoped to ``area``.
   If no variable named ``variableName`` exists, returns ``""``.


.. note::
   Global string values can only be accessed through EEex functions.

**Parameters:**

+--------------+-----------+-------------------+--------------------------------------------------------+
| **Name**     | **Type**  | **Default Value** | **Description**                                        |
+==============+===========+===================+========================================================+
| area         | CGameArea |                   | The area that the variable being fetched is scoped to. |
+--------------+-----------+-------------------+--------------------------------------------------------+
| variableName | string    |                   | The name of the variable to fetch.                     |
+--------------+-----------+-------------------+--------------------------------------------------------+

**Return Values:**

+----------+-----------------+
| **Type** | **Description** |
+==========+=================+
| string   | See summary.    |
+----------+-----------------+


.. _EEex_Area_GetVisible:

EEex_Area_GetVisible
^^^^^^^^^^^^^^^^^^^^


.. admonition:: Summary

   Returns the currently-visible ``CGameArea``, or ``nil`` if the worldscreen is not initialized.

**Return Values:**

+-----------------+-----------------+
| **Type**        | **Description** |
+=================+=================+
| CGameArea | nil | See summary.    |
+-----------------+-----------------+


.. _EEex_Area_SetVariableInt:

EEex_Area_SetVariableInt
^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``setVariableInt``

.. admonition:: Summary

   Sets the integer value of the ``variableName`` Global scoped to ``area`` to ``value``.

**Parameters:**

+--------------+-----------+-------------------+----------------------------------------------------+
| **Name**     | **Type**  | **Default Value** | **Description**                                    |
+==============+===========+===================+====================================================+
| area         | CGameArea |                   | The area that the variable being set is scoped to. |
+--------------+-----------+-------------------+----------------------------------------------------+
| variableName | string    |                   | The name of the variable to set.                   |
+--------------+-----------+-------------------+----------------------------------------------------+
| value        | number    |                   | The value to set the variable to.                  |
+--------------+-----------+-------------------+----------------------------------------------------+


.. _EEex_Area_SetVariableString:

EEex_Area_SetVariableString
^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Instance Name:** ``setVariableString``

.. admonition:: Summary

   Sets the string value of the ``variableName`` Global scoped to ``area`` to ``value``.


.. note::
   Global string values can only be accessed through EEex functions.


.. warning::
   Global string values can be a maximum of 32 characters. Attempting to set a value
   that is longer than 32 characters will result in the value being truncated.

**Parameters:**

+--------------+-----------+-------------------+----------------------------------------------------+
| **Name**     | **Type**  | **Default Value** | **Description**                                    |
+==============+===========+===================+====================================================+
| area         | CGameArea |                   | The area that the variable being set is scoped to. |
+--------------+-----------+-------------------+----------------------------------------------------+
| variableName | string    |                   | The name of the variable to set.                   |
+--------------+-----------+-------------------+----------------------------------------------------+
| value        | string    |                   | The value to set the variable to.                  |
+--------------+-----------+-------------------+----------------------------------------------------+


